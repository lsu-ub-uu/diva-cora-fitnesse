---
Test
---
!contents -R2 -g -p -f -h
!1 Testing recordType divaPerson
It should be possible to read the recordType for person from the REST API.

!***> Read person recordType

!| RecordEndpointFixture |
| authToken | type | id | testReadRecord? | getStatusType? |
| $adminAuthToken | recordType | person | | OK |

*!
It should be possible to read the top level metadata group for a new person from the REST API

!***> Load personNewGroup for person to use in tests

!| RecordEndpointFixture |
| type | id | testReadRecordAndStoreJson? |
| metadataGroup | personNewGroup | |

*!
Tests for metadata for creating a new person

!***> Check children of personNewGroup

!| MetadataLinkFixture |
| authToken | linkedRecordType | linkedRecordId | getRepeatMin? | getRepeatMax? | getNameInData? |
| $adminAuthToken | metadataGroup | recordInfoDivaAutogeneratedNewGroup | 1 | 1 | recordInfo |
| $adminAuthToken | metadataGroup | personPublicAuthorityRecordGroup | 1 | 1 | |
| $adminAuthToken | metadataGroup | personNameGroup | 1 | 1 | |
| $adminAuthToken | metadataGroup | personAlternativeNameGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personIdentifiersGroup | 1 | 1 | |
| $adminAuthToken | metadataGroup | personURLGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personBiographyGroup | 0 | 2 | |
| $adminAuthToken | metadataGroup | personAffiliationGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personOtherAffiliationGroup | 0 | X | |

*!
It should be possible to read the top level metadata group for an existing person from the REST API

!***> Load personGroup for person to use in tests

!| RecordEndpointFixture |
| type | id | testReadRecordAndStoreJson? |
| metadataGroup | personGroup | |

*!
Tests for metadata for updating a person

!***> Check children of personGroup

!| MetadataLinkFixture |
| linkedRecordType | linkedRecordId | getRepeatMin? | getRepeatMax? |
| metadataGroup | recordInfoDivaGroup | 1 | 1 |
| metadataGroup | personPublicAuthorityRecordGroup | 1 | 1 |
| metadataGroup | personNameGroup | 1 | 1 |
| metadataGroup | personAlternativeNameGroup | 0 | X |
| metadataGroup | personIdentifiersGroup | 1 | 1 |
| metadataGroup | personURLGroup | 0 | X |
| metadataGroup | personBiographyGroup | 0 | 2 |
| metadataGroup | personAffiliationGroup | 0 | X |
| metadataGroup | personOtherAffiliationGroup | 0 | X |

*!
