---
Test
---
!1 Organisation
Organisation is a record type for each part of the member organisations in DiVA.

!2 Part of organisation
Part of organisation is a part of a member organisation.

!2 Top organisation
Top organisation is the topmost part of a member organisation.

!*< Setup record type definition

!define recordTypeId {diva-organisation}
!define recordTypeDefinition {!-organisation (group)
	recordInfo (group, 1-1, noConstraint)
		id (textVariable, 1-1, noConstraint, I)
		type {diva-organisation} (recordLink, 1-1, noConstraint)
		validationType (recordLink, 1-1, noConstraint)
		dataDivider {divaData} (recordLink, 1-1, noConstraint)
		createdBy (recordLink, 1-1, noConstraint)
		tsCreated (textVariable, 1-1, noConstraint)
		updated (group, 1-X, noConstraint)
			updatedBy (recordLink, 1-1, noConstraint)
			tsUpdated (textVariable, 1-1, noConstraint)
		permissionUnit (recordLink, 1-1, noConstraint, P, I)
		inTrashBin (collectionVariable, 1-1, noConstraint, P, I)
		oldId (textVariable, 0-1, noConstraint, I)
	genre type:{organisationType} (collectionVariable, 1-1, noConstraint, P)
	authority lang:{swe} (group, 1-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	variant lang:{eng} (group, 0-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	startDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	endDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	address (group, 0-1, noConstraint)
		postOfficeBox (textVariable, 0-1, noConstraint, I)
		street (textVariable, 0-1, noConstraint, I)
		postcode (textVariable, 0-1, noConstraint, I)
		city (textVariable, 0-1, noConstraint, I)
		country (collectionVariable, 0-1, noConstraint, I)
	identifier type:{localId} (textVariable, 0-1, noConstraint)
	identifier type:{organisationNumber} (textVariable, 0-1, noConstraint, I)
	identifier type:{ror} (textVariable, 0-1, noConstraint, I)
	location (group, 0-1, noConstraint)
		url (textVariable, 1-1, noConstraint, I)
		displayLabel (textVariable, 0-1, noConstraint, I)
	note type:{internal} (textVariable, 0-1, readWrite, I)
	related type:{parent} (group, 0-X, noConstraint)
		organisation (recordLink, 1-1, noConstraint)
	related type:{earlier} (group, 0-X, noConstraint)
		organisation (recordLink, 0-1, noConstraint)-!}

#idSource (userSupplied/timestamp/sequence) others true/false
!define recordTypeIdSource {sequence}
!define recordTypeIsPublic {false}
!define recordTypeUsePermissionUnit {true}
!define recordTypeUseVisibility {false}
!define recordTypeUseTrashBin {true}
!define recordTypeStoreInArchive {true}
*!
!include -seamless .HelperPages.checkRecordType

!*< Setup validation type definition

!define validationTypeId {diva-partOfOrganisation}
!define recordTypeId {diva-organisation}
!define createValidationTypeDefinition {!-organisation (group)
	recordInfo (group, 1-1, noConstraint)
		validationType {diva-partOfOrganisation} (recordLink, 1-1, noConstraint)
		dataDivider {divaData} (recordLink, 1-1, noConstraint)
		permissionUnit (recordLink, 1-1, noConstraint)
		inTrashBin (collectionVariable, 0-1, noConstraint, I)
		oldId (textVariable, 0-1, noConstraint)
	genre {partOfOrganisation} type:{organisationType} (collectionVariable, 1-1, noConstraint)
	authority lang:{swe} (group, 1-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	variant lang:{eng} (group, 0-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	startDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	endDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	address (group, 0-1, noConstraint)
		postOfficeBox (textVariable, 0-1, noConstraint, I)
		street (textVariable, 0-1, noConstraint, I)
		postcode (textVariable, 0-1, noConstraint, I)
		city (textVariable, 0-1, noConstraint, I)
		country (collectionVariable, 0-1, noConstraint, I)
	identifier type:{localId} (textVariable, 0-1, noConstraint)
	identifier type:{organisationNumber} (textVariable, 0-1, noConstraint)
	location (group, 0-1, noConstraint)
		url (textVariable, 1-1, noConstraint, I)
		displayLabel (textVariable, 0-1, noConstraint, I)
	note type:{internal} (textVariable, 0-1, readWrite)
	related type:{parent} (group, 0-1, noConstraint)
		organisation (recordLink, 1-1, noConstraint)
	related type:{earlier} (group, 0-X, noConstraint)
		organisation (recordLink, 0-1, noConstraint)-!}

!define updateValidationTypeDefinition {!-organisation (group)
	recordInfo (group, 1-1, noConstraint)
		id (textVariable, 1-1, noConstraint, I)
		type {diva-organisation} (recordLink, 1-1, noConstraint)
		validationType {diva-partOfOrganisation} (recordLink, 1-1, noConstraint)
		dataDivider {divaData} (recordLink, 1-1, noConstraint)
		createdBy (recordLink, 1-1, noConstraint)
		tsCreated (textVariable, 1-1, noConstraint)
		updated (group, 1-X, noConstraint)
			updatedBy (recordLink, 1-1, noConstraint)
			tsUpdated (textVariable, 1-1, noConstraint)
		permissionUnit (recordLink, 1-1, noConstraint)
		inTrashBin (collectionVariable, 1-1, noConstraint)
		oldId (textVariable, 0-1, noConstraint, I)
	genre {partOfOrganisation} type:{organisationType} (collectionVariable, 1-1, noConstraint)
	authority lang:{swe} (group, 1-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	variant lang:{eng} (group, 0-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	startDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	endDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	address (group, 0-1, noConstraint)
		postOfficeBox (textVariable, 0-1, noConstraint, I)
		street (textVariable, 0-1, noConstraint, I)
		postcode (textVariable, 0-1, noConstraint, I)
		city (textVariable, 0-1, noConstraint, I)
		country (collectionVariable, 0-1, noConstraint, I)
	identifier type:{localId} (textVariable, 0-1, noConstraint)
	identifier type:{organisationNumber} (textVariable, 0-1, noConstraint)
	location (group, 0-1, noConstraint)
		url (textVariable, 1-1, noConstraint, I)
		displayLabel (textVariable, 0-1, noConstraint, I)
	note type:{internal} (textVariable, 0-1, readWrite)
	related type:{parent} (group, 0-1, noConstraint)
		organisation (recordLink, 1-1, noConstraint)
	related type:{earlier} (group, 0-X, noConstraint)
		organisation (recordLink, 0-1, noConstraint)-!}

*!
!include -seamless .HelperPages.checkValidationType

!*< Setup validation type definition

!define validationTypeId {diva-topOrganisation}
!define recordTypeId {diva-organisation}
!define createValidationTypeDefinition {!-organisation (group)
	recordInfo (group, 1-1, noConstraint)
		validationType {diva-topOrganisation} (recordLink, 1-1, noConstraint)
		dataDivider {divaData} (recordLink, 1-1, noConstraint)
		permissionUnit (recordLink, 1-1, noConstraint)
		inTrashBin (collectionVariable, 0-1, noConstraint)
		oldId (textVariable, 0-1, noConstraint)
	genre {topOrganisation} type:{organisationType} (collectionVariable, 1-1, noConstraint)
	authority lang:{swe} (group, 1-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	variant lang:{eng} (group, 0-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	startDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	endDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	address (group, 0-1, noConstraint)
		postOfficeBox (textVariable, 0-1, noConstraint, I)
		street (textVariable, 0-1, noConstraint, I)
		postcode (textVariable, 0-1, noConstraint, I)
		city (textVariable, 0-1, noConstraint, I)
		country (collectionVariable, 0-1, noConstraint, I)
	identifier type:{localId} (textVariable, 0-1, noConstraint)
	identifier type:{organisationNumber} (textVariable, 0-1, noConstraint)
	identifier type:{ror} (textVariable, 0-1, noConstraint)
	location (group, 0-1, noConstraint)
		url (textVariable, 1-1, noConstraint, I)
		displayLabel (textVariable, 0-1, noConstraint, I)
	note type:{internal} (textVariable, 0-1, readWrite)
	related type:{earlier} (group, 0-1, noConstraint)
		organisation (recordLink, 0-1, noConstraint)-!}

!define updateValidationTypeDefinition {!-organisation (group)
	recordInfo (group, 1-1, noConstraint)
		id (textVariable, 1-1, noConstraint, I)
		type {diva-organisation} (recordLink, 1-1, noConstraint)
		validationType {diva-topOrganisation} (recordLink, 1-1, noConstraint)
		dataDivider {divaData} (recordLink, 1-1, noConstraint)
		createdBy (recordLink, 1-1, noConstraint)
		tsCreated (textVariable, 1-1, noConstraint)
		updated (group, 1-X, noConstraint)
			updatedBy (recordLink, 1-1, noConstraint)
			tsUpdated (textVariable, 1-1, noConstraint)
		permissionUnit (recordLink, 1-1, noConstraint)
		inTrashBin (collectionVariable, 1-1, noConstraint)
		oldId (textVariable, 0-1, noConstraint, I)
	genre {topOrganisation} type:{organisationType} (collectionVariable, 1-1, noConstraint)
	authority lang:{swe} (group, 1-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	variant lang:{eng} (group, 0-1, noConstraint)
		name type:{corporate} (group, 1-1, noConstraint, I)
			namePart (textVariable, 1-1, noConstraint, I)
	startDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	endDate (group, 0-1, noConstraint)
		year (textVariable, 1-1, noConstraint, I)
		month (textVariable, 0-1, noConstraint, I)
		day (textVariable, 0-1, noConstraint, I)
	address (group, 0-1, noConstraint)
		postOfficeBox (textVariable, 0-1, noConstraint, I)
		street (textVariable, 0-1, noConstraint, I)
		postcode (textVariable, 0-1, noConstraint, I)
		city (textVariable, 0-1, noConstraint, I)
		country (collectionVariable, 0-1, noConstraint, I)
	identifier type:{localId} (textVariable, 0-1, noConstraint)
	identifier type:{organisationNumber} (textVariable, 0-1, noConstraint)
	identifier type:{ror} (textVariable, 0-1, noConstraint)
	location (group, 0-1, noConstraint)
		url (textVariable, 1-1, noConstraint, I)
		displayLabel (textVariable, 0-1, noConstraint, I)
	note type:{internal} (textVariable, 0-1, readWrite)
	related type:{earlier} (group, 0-1, noConstraint)
		organisation (recordLink, 0-1, noConstraint)-!}

*!
!include -seamless .HelperPages.checkValidationType

----
