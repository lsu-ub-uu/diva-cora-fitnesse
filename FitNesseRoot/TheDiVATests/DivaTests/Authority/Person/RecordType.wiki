---
Test
---
!contents -R2 -g -p -f -h
!1 Testing recordType divaPerson
It should be possible to read the recordType for person from the REST API.

!***> Read person recordType

!| RecordEndpointFixture |
| authToken | type | id | testReadRecord? | getStatusType? |
| $adminAuthToken | recordType | person | | OK |

*!
It should be possible to read the top level metadata group for a new person from the REST API

!***> Load personNewGroup for person to use in tests

!| RecordEndpointFixture |
| type | id | testReadRecordAndStoreJson? |
| metadataGroup | personNewGroup | |

*!
Tests for metadata for creating a new person

!***> Check children of personNewGroup

!| MetadataLinkFixture |
| authToken | linkedRecordType | linkedRecordId | getRepeatMin? | getRepeatMax? | getNameInData? |
| $adminAuthToken | metadataGroup | recordInfoDivaAutogeneratedNewGroup | 1 | 1 | recordInfo |
| $adminAuthToken | metadataGroup | personNameGroup | 1 | 1 | |
| $adminAuthToken | metadataTextVariable | personAcademicTitleTextVar | 0 | 1 | |
| $adminAuthToken | metadataTextVariable | yearOfBirthTextVar | 0 | 1 | |
| $adminAuthToken | metadataTextVariable | yearOfDeathTextVar | 0 | 1 | |
| $adminAuthToken | metadataTextVariable | personEmailTextVar | 0 | 1 | |
| $adminAuthToken | metadataGroup | personAlternativeNameGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personURLGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personAffiliationGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personOtherAffiliationGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personIdentifiersLocalIdentifierGroup | 0 | X | |
| $adminAuthToken | metadataTextVariable | personORCIDValueTextVar | 0 | X | |
| $adminAuthToken | metadataTextVariable | personVIAFValueTextVar | 0 | X | |
| $adminAuthToken | metadataTextVariable | personLibrisValueTextVar | 0 | X | |
| $adminAuthToken | metadataGroup | personBiographyEnglishGroup | 0 | 1 | |
| $adminAuthToken | metadataGroup | personBiographySwedishGroup | 0 | 1 | |


*!
It should be possible to read the top level metadata group for an existing person from the REST API

!***> Load personGroup for person to use in tests

!| RecordEndpointFixture |
| type | id | testReadRecordAndStoreJson? |
| metadataGroup | personGroup | |

*!
Tests for metadata for updating a person

!***> Check children of personGroup

!| MetadataLinkFixture |
| authToken | linkedRecordType | linkedRecordId | getRepeatMin? | getRepeatMax? | getNameInData? |
| $adminAuthToken | metadataGroup | recordInfoPersonDivaGroup | 1 | 1 | recordInfo |
| $adminAuthToken | metadataGroup | personNameGroup | 1 | 1 | |
| $adminAuthToken | metadataTextVariable | personAcademicTitleTextVar | 0 | 1 | |
| $adminAuthToken | metadataTextVariable | yearOfBirthTextVar | 0 | 1 | |
| $adminAuthToken | metadataTextVariable | yearOfDeathTextVar | 0 | 1 | |
| $adminAuthToken | metadataTextVariable | personEmailTextVar | 0 | 1 | |
| $adminAuthToken | metadataGroup | personAlternativeNameGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personURLGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personAffiliationGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personOtherAffiliationGroup | 0 | X | |
| $adminAuthToken | metadataGroup | personIdentifiersLocalIdentifierGroup | 0 | X | |
| $adminAuthToken | metadataTextVariable | personORCIDValueTextVar | 0 | X | |
| $adminAuthToken | metadataTextVariable | personVIAFValueTextVar | 0 | X | |
| $adminAuthToken | metadataTextVariable | personLibrisValueTextVar | 0 | X | |
| $adminAuthToken | metadataGroup | personBiographyEnglishGroup | 0 | 1 | |
| $adminAuthToken | metadataGroup | personBiographySwedishGroup | 0 | 1 | |

*!
