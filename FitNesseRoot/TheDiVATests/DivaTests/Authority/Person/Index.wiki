---
Static
---
!2 Indexera

 * '''Fall1:''' !-Det ska gå att indexera alla personer.-!
 * '''Fall2:''' !-Det ska inte gå att indexera personer som är '''raderade'''.-!

!***>  '''Fall1'''
!define currentAuthToken {$everythingAuthToken}

!include -seamless .TheDiVATests.DivaTests.Authority.Person.data.dataPerson112
!define expectedResult {CREATED}
!include -seamless .HelperPages.indexRecordTypeWithId
*!
!***>  '''Fall2'''
!define currentAuthToken {$everythingAuthToken}

!include -seamless .TheDiVATests.DivaTests.Authority.Person.data.dataPerson113
!define expectedResult {NOT_FOUND}
!include -seamless .HelperPages.indexRecordTypeWithId
*!


!3 Roller
!4 !-Systemadministratör-!

 * '''Fall1:''' !-Systemadministratörska kunna indexera personer.-!

!***>  '''Fall1'''
!define currentAuthToken {$systemAdminAuthToken}

!include -seamless .TheDiVATests.DivaTests.Authority.Person.data.dataPerson112
!define expectedResult {CREATED}
!include -seamless .HelperPages.indexRecordTypeWithId
*!

!4 !-Medlemsadministratör-!
 * '''Fall1:''' !-DomainAdmin får inte indexera organisationer.-!

!***>  '''Fall1'''
!define currentAuthToken {$domainAdminAuthToken}

!include -seamless .TheDiVATests.DivaTests.Authority.Person.data.dataPerson112
!define expectedResult {UNAUTHORIZED}
!include -seamless .HelperPages.indexRecordTypeWithId
*!

!4 !-Gäst-!
 * '''Fall1:''' !-Gäst får inte indexera organisationer.-!

!***>  '''Fall1'''
!define currentAuthToken {$guestAuthToken}

!include -seamless .TheDiVATests.DivaTests.Authority.Person.data.dataPerson112
!define expectedResult {UNAUTHORIZED}
!include -seamless .HelperPages.indexRecordTypeWithId
*!